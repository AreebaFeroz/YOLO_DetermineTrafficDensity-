#:include login.kv
#:include options.kv
#:include records.kv



############################################DROP DOWN LIST

<MenuButton>:
    size_hint_x: None if not root.inside_group else 1
    width: self.texture_size[0] + 32
    Image:
        allow_stretch: True
        opacity: 1 if root.icon else 0
        source: root.icon
        pos: root.x + 4, root.y + 4
        size: root.width - 8, root.height - 8

<MenuSubmenu>:
    size_hint_x: None
    width: self.texture_size[0] + 300
    triangle: (self.right-14, self.y+7, self.right-7, self.y+7, self.right-7, self.y+14)
    canvas.after:
        Color:
            rgba: self.separator_color
        Triangle:
            points: self.triangle

<MenuButton,MenuSubmenu>:
    background_normal: ""
    background_down: ""
    background_color: self.background_color_down if self.state=='down' else self.background_color_normal
    color: self.text_color

<MenuEmptySpace>:
    size_hint_x: 1

<MenuItem>:
    background_color: self.background_color_normal
    canvas.before:
        Color:
            rgba: self.background_color
        Rectangle:
            pos: self.pos
            size: self.size
    canvas.after:
        Color:
            rgba: self.separator_color
        Line:
            rectangle: self.x,self.y,self.width,self.height

<MenuBar>:
    size_hint_y: None
    height: 48

    canvas.before:
        Color:
            rgba: self.background_color
        Rectangle:
            pos: self.pos
            size: self.size
    canvas.after:
        Color:
            rgba: self.separator_color
        Line:
            rectangle: self.x, self.y, self.width, self.height

##########################################################################################














<Connected>:
    streeta: ''
    streetb: ''
    streetc: ''
    streetd: ''
    BoxLayout

        orientation: 'vertical'
        padding: [10,10,10,50]
        spacing: 50

                                            # FIRST SECTION
        BoxLayout:
            orientation: 'vertical'
            Label:
                text: 'Start Monitoring Traffic'
                font_size: 32
                color: 0,0,0,1

            #BoxLayout:

             #   padding: [360,0,380,0]

              #  Button:

               #     text: ""
                #    size: 170,110

                 #   on_press: root.showImg()
                  #  Image:
                   #     source:'interface-images/trafficlight13.png'
                    #    pos: self.parent.x + 15, self.parent.y - 30
                     #   size: 160,105


                                        # SECOND SECTION
        BoxLayout:

            padding: [0,60,0,0]
            orientation: 'horizontal'

            spacing: 10
            height: "100dp"
            BoxLayout:

                canvas:
                    BorderImage:
                        source:root.streeta
                        pos: self.x , self.y
                        size: 250,130

                    BorderImage:
                        source:'interface-images/trafficlight15.png'
                        size: 50,50
                        pos: self.parent.x+250 , self.parent.y


                    BorderImage:
                        source:'interface-images/trafficlight16.png'
                        size: 50,50
                        pos: self.parent.x+300 , self.parent.y


                    BorderImage
                        source: 'interface-images/trafficlight17.png'
                        size: 140,80
                        pos: self.parent.x+250 , self.parent.y+40

            BoxLayout:

                canvas:
                    BorderImage:
                        source: root.streetb
                        pos: self.x , self.y
                        size: 250,130

                    BorderImage:
                        source:'interface-images/trafficlight15.png'
                        size: 50,50
                        pos: self.parent.x+720 , self.parent.y


                    BorderImage:
                        source:'interface-images/trafficlight16.png'
                        size: 50,50
                        pos: self.parent.x+770 , self.parent.y


                    BorderImage
                        source: 'interface-images/trafficlight17.png'
                        size: 140,80
                        pos: self.parent.x+725 , self.parent.y+40



                                # THIRD SECTION
        BoxLayout:


            orientation: 'horizontal'
            spacing: 10
            height: "100dp"
            BoxLayout:

                canvas:

                    BorderImage:
                        source:root.streetc
                        pos: self.x , self.y
                        size: 250,130

                    BorderImage:
                        source:'interface-images/trafficlight15.png'
                        size: 50,50
                        pos: self.parent.x+250 , self.parent.y

                    BorderImage:
                        source:'interface-images/trafficlight16.png'
                        size: 50,50
                        pos: self.parent.x+300 , self.parent.y


                    BorderImage
                        source: 'interface-images/trafficlight17.png'
                        size: 140,80
                        pos: self.parent.x+250 , self.parent.y+40


            BoxLayout:

                canvas:
                    BorderImage:
                        source: root.streetd
                        pos: self.x , self.y
                        size: 250,130

                    BorderImage:
                        source:'interface-images/trafficlight15.png'
                        size: 50,50
                        pos: self.parent.x+720 , self.parent.y


                    BorderImage:
                        source:'interface-images/trafficlight16.png'
                        size: 50,50
                        pos: self.parent.x+770 , self.parent.y

                    BorderImage
                        source: 'interface-images/trafficlight17.png'
                        size: 140,80
                        pos: self.parent.x+725 , self.parent.y+40


                                # FOURTH SECTION
        BoxLayout:
            height:"100dp"
            padding: [75,20,75,20]
            spacing: 15
            Button:
                text: '  Show Records'
                font_size: 24
                on_press: root.showRecords()
                Image:
                    source:'interface-images/records.png'
                    pos: self.parent.x+2 , self.parent.y+3
                    size: 50,50


            Button:
                text: 'More Options'
                font_size: 24

                on_press: root.clickOptions()

            Button:
                text: 'Logout'
                font_size: 24

                on_press: root.disconnect()


               ############################# DROP DOWN ######################
    BoxLayout:
        orientation: "vertical"
        pos: 0,510

        MenuBar:



            MenuSubmenu:
                text: "- Select Area To Monitor -"

                MenuButton:
                    text: "Bahadurabad"


                MenuButton:
                    text: "Gulshan Chowrangi"


                MenuButton:
                    text: "Karsaz"



                MenuButton:
                    text: " XXX "





    BoxLayout:

        padding: [360,600,400,0]
        pos: 200,510

        Button:

            text: ""
            size: 170,110

            on_press: root.showImg()
            Image:
                source:'interface-images/trafficlight13.png'
                pos: self.parent.x + 15, self.parent.y - 30
                size: 160,105
